package com.workday.community.aem.utils;

import static junit.framework.Assert.assertNull;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.ArgumentMatchers.anyString;
import static org.mockito.Mockito.lenient;
import static org.mockito.Mockito.mock;

import com.google.gson.Gson;
import com.google.gson.JsonObject;
import com.workday.community.aem.core.constants.WccConstants;
import com.workday.community.aem.core.utils.CommonUtils;
import javax.jcr.Node;
import javax.jcr.RepositoryException;
import javax.jcr.Session;
import javax.jcr.Value;
import org.apache.jackrabbit.api.security.user.User;
import org.apache.jackrabbit.api.security.user.UserManager;
import org.apache.sling.api.resource.Resource;
import org.apache.sling.api.resource.ResourceResolver;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.junit.jupiter.MockitoExtension;

/**
 * The Class CommonUtilsTest.
 */
@ExtendWith({MockitoExtension.class})
public class CommonUtilsTest {

  /**
   * The ResourceResolver.
   */
  ResourceResolver resourceResolver;

  /**
   * The user.
   */
  private User user;

  @BeforeEach
  public void setup() throws RepositoryException {
    resourceResolver = mock(ResourceResolver.class);
    Session session = mock(Session.class);
    // The service UserManager.
    UserManager userManager = mock(UserManager.class);
    user = mock(User.class);
    lenient().when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
    lenient().when(session.getUserID()).thenReturn("testUser");
    lenient().when(resourceResolver.adaptTo(UserManager.class)).thenReturn(userManager);
    lenient().when(userManager.getAuthorizable(anyString())).thenReturn(user);
  }

  /**
   * Test getLoggedInUserSourceId.
   */
  @Test
  public void testGetLoggedInUserSourceId() throws RepositoryException {
    Value value = mock(Value.class);
    Value[] values = {value};
    String expectedSfId = "test sfid";
    lenient().when(value.getString()).thenReturn(expectedSfId);
    lenient().when(user.getProperty(WccConstants.PROFILE_SOURCE_ID)).thenReturn(values);
    String sfId = CommonUtils.getLoggedInUserSourceId(resourceResolver);
    assertEquals(expectedSfId, sfId);
  }

  @Test
  public void testGetLoggedInUserSourceIdWithException() throws RepositoryException {
    Value value = mock(Value.class);
    String expectedSfId = "test sfid";
    lenient().when(value.getString()).thenReturn(expectedSfId);
    lenient().when(user.getProperty(WccConstants.PROFILE_SOURCE_ID))
        .thenThrow(new RepositoryException());
    String sfId = CommonUtils.getLoggedInUserSourceId(resourceResolver);
    assertNull(sfId);
  }

  /**
   * Test getLoggedInUserId.
   */
  @Test
  public void testGetLoggedInUserId() throws RepositoryException {
    Value value = mock(Value.class);
    String expectedUserId = "test user id";
    Value[] values = {value};
    lenient().when(value.getString()).thenReturn(expectedUserId);
    lenient().when(user.getProperty(WccConstants.PROFILE_OKTA_ID)).thenReturn(values);
    String userId = CommonUtils.getLoggedInUserId(resourceResolver);
    assertEquals(expectedUserId, userId);
  }

  /**
   * Test getLoggedInUserId.
   */
  @Test
  public void testGetLoggedInUserIdWithException() throws RepositoryException {
    Value value = mock(Value.class);
    String expectedUserId = "test user id";
    lenient().when(value.getString()).thenReturn(expectedUserId);
    lenient().when(user.getProperty(WccConstants.PROFILE_OKTA_ID))
        .thenThrow(new RepositoryException());
    String userId = CommonUtils.getLoggedInUserId(resourceResolver);
    assertNull(userId);
  }

  /**
   * Test getLoggedInCustomerType.
   */
  @Test
  public void testGetLoggedInCustomerType() throws RepositoryException {
    Value value = mock(Value.class);
    String expectedCustomerType = "test customer type";
    Value[] values = {value};
    lenient().when(value.getString()).thenReturn(expectedCustomerType);
    lenient().when(user.getProperty(WccConstants.CC_TYPE)).thenReturn(values);
    String customerType = CommonUtils.getLoggedInCustomerType(resourceResolver);
    assertEquals(expectedCustomerType, customerType);
  }

  /**
   * Test testGetLoggedInCustomerTypeWithException
   *
   * @throws RepositoryException RepositoryException object.
   */
  @Test
  public void testGetLoggedInCustomerTypeWithException() throws RepositoryException {
    Value value = mock(Value.class);
    Value[] values = {value};
    lenient().when(value.getString()).thenThrow(new RepositoryException());
    lenient().when(user.getProperty(WccConstants.CC_TYPE)).thenReturn(values);
    String customerType = CommonUtils.getLoggedInCustomerType(resourceResolver);
    assertNull(customerType);
  }

  /**
   * Test getLoggedInUser.
   */
  @Test
  public void testGetLoggedInUser() {
    User testUser = CommonUtils.getLoggedInUser(resourceResolver);
    assertEquals(testUser, user);

  }

  @Test
  public void testGetLoggedInUserWithException() throws RepositoryException {
    Session session = mock(Session.class);
    UserManager userManager = mock(UserManager.class);
    lenient().when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
    lenient().when(resourceResolver.adaptTo(UserManager.class)).thenReturn(userManager);
    lenient().when(userManager.getAuthorizable(anyString())).thenThrow(new RepositoryException());
    User testUser = CommonUtils.getLoggedInUser(resourceResolver);
    assertNull(testUser);
  }

  /**
   * Test getLoggedInUserAsNode.
   */
  @Test
  public void testGetLoggedInUserAsNode() throws RepositoryException {
    User testUser = CommonUtils.getLoggedInUser(resourceResolver);
    lenient().when(testUser.getPath()).thenReturn("user path");

    Resource resource = mock(Resource.class);
    Node expectedUserNode = mock(Node.class);
    lenient().when(resourceResolver.getResource("user path")).thenReturn(resource);
    lenient().when(resource.adaptTo(Node.class)).thenReturn(expectedUserNode);
    Node userNode = CommonUtils.getLoggedInUserAsNode(resourceResolver);
    assertEquals(userNode, expectedUserNode);
  }

  @Test
  public void testGetLoggedInUserAsNodeWithException() throws RepositoryException {
    Session session = mock(Session.class);
    UserManager userManager = mock(UserManager.class);
    lenient().when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
    lenient().when(resourceResolver.adaptTo(UserManager.class)).thenReturn(userManager);
    lenient().when(userManager.getAuthorizable(anyString())).thenThrow(new RepositoryException());
    Node userNode = CommonUtils.getLoggedInUserAsNode(resourceResolver);
    assertNull(userNode);
  }

  /**
   * Test testUpdateTargetToSource.
   */
  @Test
  public void testUpdateTargetToSource() {
    String sourceString =
        "{\"primary\":{\"menu\":[{\"type\":\"Primary\",\"tooltip\":\"Learnmenu\",\"title\":\"Learn\",\"parent\":null,\"order\":10,\"level\":\"1\",\"id\":\"aTD520000008ONsGAM\",\"icon\":null,\"href\":null,\"description\":\"Gettingstartedandlearning-focusedresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"GetStarted\",\"title\":\"GetStarted\",\"parent\":\"aTD520000008ONsGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONtGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/get-started\",\"description\":\"Organizedgettingstartedinfoforcustomers\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Documentation\",\"title\":\"Documentation\",\"parent\":\"aTD520000008ONsGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONuGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/documentation\",\"description\":\"Organizedlinkstoofficialdocumentationpages\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingInformation\",\"title\":\"TrainingInformation\",\"parent\":\"aTD520000008ONsGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONvGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/training\",\"description\":\"Trainingofferingsandquicklinks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Solutions\",\"title\":\"Solutions\",\"parent\":\"aTD520000008ONsGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONwGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/solutions\",\"description\":\"SolutionsandtoolkitsforcustomersandpartnersforimplementingintheirWorkdaytenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"StrategyRoadmaps\",\"title\":\"StrategyRoadmaps\",\"parent\":\"aTD520000008ONsGAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008ONxGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/strategy-roadmaps\",\"description\":\"Productspecificroadmaps\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"SharedDemonstrationTenants\",\"title\":\"SharedDemonstrationTenants\",\"parent\":\"aTD520000008ONsGAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008ONyGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/demonstration-tenants\",\"description\":\"Overviewandaccesstoshareddemonstrationtenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesBasecamp\",\"title\":\"ServicesBasecamp\",\"parent\":\"aTD520000008ONsGAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008ONzGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/services-basecamp\",\"description\":\"Servicesandpartnerspecificresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"ProductHubMenu\",\"title\":\"Products\",\"parent\":null,\"order\":20,\"level\":\"1\",\"id\":\"aTD520000008ONfGAM\",\"icon\":null,\"href\":null,\"description\":\"Producthubsorganizecontentanditeractionopportunitiesbyproduct\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"HumanCapitalManagementhub\",\"title\":\"HumanCapitalManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONgGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/human-capital-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"FinancialManagementhub\",\"title\":\"FinancialManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONhGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/financial-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkdayPayrollhub\",\"title\":\"WorkdayPayroll\",\"parent\":\"aTD520000008ONfGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONiGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/workday-payroll\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Platform&ProductExtensions\",\"title\":\"Platform&ProductExtensions\",\"parent\":\"aTD520000008ONfGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONjGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/platform-and-product-extensions\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"EmergingProductshub\",\"title\":\"EmergingProducts\",\"parent\":\"aTD520000008ONfGAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008ONkGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/emerging-products\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkforceManagementhub\",\"title\":\"WorkforceManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008ONlGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/workforce-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Viewallproducthubs\",\"title\":\"AllProducts\",\"parent\":\"aTD520000008ONfGAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008ONmGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/all-products\",\"description\":\"Linkstoallavailableproducthubs\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Collaboratemenu\",\"title\":\"Collaborate\",\"parent\":null,\"order\":30,\"level\":\"1\",\"id\":\"aTD520000008OO8GAM\",\"icon\":null,\"href\":null,\"description\":\"Interactiveusergeneratedcontentopportunities\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Forums\",\"title\":\"Discuss\",\"parent\":\"aTD520000008OO8GAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OO9GAM\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Discuss/ct-p/Category_Discuss\",\"description\":\"Landingpageforforumsavailabletouser\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Brainstorms\",\"title\":\"Innovate\",\"parent\":\"aTD520000008OO8GAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OOAGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Innovate/ct-p/Category_Innovate\",\"description\":\"LandingpageforviewingandcreatingbrainstormsforimprovingWorkday\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Events\",\"title\":\"Connect\",\"parent\":\"aTD520000008OO8GAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OOBGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Connect/ct-p/Category_Connect\",\"description\":\"Upcomingeventsausermayattend\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"UserGroups\",\"title\":\"Partners\",\"parent\":\"aTD520000008OO8GAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OOCGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Partners/ct-p/Category_Partners\",\"description\":\"Organizepartner-specificresourcesandparticipationopportunities\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"DesignPartnerOpportunities\",\"title\":\"Discover\",\"parent\":\"aTD520000008OO8GAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008OODGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Discover/ct-p/Category_Discover\",\"description\":\"Membernewsandupdatesandcollaborateresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"FeatureReleasemenu\",\"title\":\"FeatureRelease\",\"parent\":null,\"order\":40,\"level\":\"1\",\"id\":\"aTD520000008ONnGAM\",\"icon\":null,\"href\":null,\"description\":\"NavtositestohelpuserswithWorkdayFeatureReleases\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"FeatureReleaseGuidebook\",\"title\":\"FeatureReleaseGuidebook\",\"parent\":\"aTD520000008ONnGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONoGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/feature-release/guidebook\",\"description\":\"Frameworkforcustomerstouseforourreleasecycle\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ScheduledMaintenance\",\"title\":\"ScheduledMaintenance\",\"parent\":\"aTD520000008ONnGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONpGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/feature-release/maintenance\",\"description\":\"PlannedMaintenancewindows\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseCenter\",\"title\":\"ReleaseCenter\",\"parent\":\"aTD520000008ONnGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONqGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/feature-release/release-center\",\"description\":\"TheReleaseCenterorganizesreleasedetailsforthemostrecentfeaturerelease.TheReleasePrepCenterreplacesitforthe6weeksapproachinganewrelease,andfeaturesthenextrelease.\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseNotes\",\"title\":\"ReleaseNotes\",\"parent\":\"aTD520000008ONnGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONrGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/feature-release/release-notes\",\"description\":\"Comprehensivereleasenotes\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"GetHelpmenu\",\"title\":\"GetHelp\",\"parent\":null,\"order\":50,\"level\":\"1\",\"id\":\"aTD520000008OOEGA2\",\"icon\":null,\"href\":null,\"description\":\"Self-serviceandsolutionfindingresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"DatacenterStatus\",\"title\":\"DatacenterStatus\",\"parent\":\"aTD520000008OOEGA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OOFGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/datacenter-status\",\"description\":\"SummaryonthecurrenthealthstatusofWorkdaydatacenters\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TroubleshootingResources\",\"title\":\"TroubleshootingResources\",\"parent\":\"aTD520000008OOEGA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OOGGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/troubleshooting-resources\",\"description\":\"Organizedlistofresourcesandlinkstohelptroubleshooting\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"CustomerAlerts\",\"title\":\"CustomerAlerts\",\"parent\":\"aTD520000008OOEGA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OOHGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/customer-alerts\",\"description\":\"Supportalertstocustomersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesAlerts\",\"title\":\"ServicesAlerts\",\"parent\":\"aTD520000008OOEGA2\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OOIGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/services-alerts\",\"description\":\"Supportalertstostaffandpartnersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingCoordinatorHub\",\"title\":\"TrainingCoordinatorHub\",\"parent\":\"aTD520000008OOEGA2\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008OOJGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/training-coordinator-hub\",\"description\":\"TrainingandresourcesforusersintheTrainingCoordinatorWorkdaySupportRole\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"NSCHub\",\"title\":\"NSCHub\",\"parent\":\"aTD520000008OOEGA2\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008OOKGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/nsc-hub\",\"description\":\"TrainingandresourcesforusersintheNamedSupportContactWorkdaySupportrole\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Managemenu\",\"title\":\"Manage\",\"parent\":null,\"order\":60,\"level\":\"1\",\"id\":\"aTD520000008OO0GAM\",\"icon\":null,\"href\":null,\"description\":\"SupportandWorkdayRoleAdministrativeFunctions\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Cases\",\"title\":\"Cases\",\"parent\":\"aTD520000008OO0GAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OO1GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_CommunityCases\",\"description\":\"Customercaseportal\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Users\",\"title\":\"Users\",\"parent\":\"aTD520000008OO0GAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OO2GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/CommunityAccess/s/user-management\",\"description\":\"OrgAdministrationandCustomerCenterContactmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":null,\"title\":\"ContactsManagement\",\"parent\":\"aTD520000008OO0GAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OO3GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_NSCAdministration\",\"description\":\"Supportcontactmangement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Training\",\"title\":\"Training\",\"parent\":\"aTD520000008OO0GAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OO4GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/LMS_TrainingUnits\",\"description\":\"Trainingadministrationtasks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Tenants\",\"title\":\"Tenants\",\"parent\":\"aTD520000008OO0GAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008OO5GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_CommunityTenants\",\"description\":\"Tenantrequestandmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"MyOrganization\",\"title\":\"MyOrganization\",\"parent\":\"aTD520000008OO0GAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008OO6GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/CommunityAccess/s/\",\"description\":\"Organizationprofilemanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"Reports\",\"parent\":\"aTD520000008OO0GAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008OOYGA2\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/00O/o\",\"description\":\"Supportorientedreports\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"ContentLibrary\",\"parent\":\"aTD520000008OO0GAM\",\"order\":80,\"level\":\"2\",\"id\":\"aTD520000008OO7GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_ListContent\",\"description\":\"Supportorientedreportsincludingauditandcompliance\",\"children\":[]}]}]}}";
    String targetString =
        "{\"primary\":{\"menu\":[{\"type\":\"Primary\",\"tooltip\":\"Learnmenu\",\"title\":\"Learn\",\"parent\":null,\"order\":10,\"level\":\"1\",\"id\":\"aTD520000008ONsGAM\",\"icon\":null,\"href\":null,\"description\":\"Gettingstartedandlearning-focusedresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"GetStarted\",\"title\":\"GetStarted\",\"parent\":\"aTD520000008ONsGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONtGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/get-started.html\",\"description\":\"Organizedgettingstartedinfoforcustomers\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Resources\",\"title\":\"Resources\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJ0WAM\",\"href\":\"https://beta-content.workday.com/en-us/learn/resources.html\",\"description\":\"Organizedlinkstoofficialdocumentationpages\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Documentation\",\"title\":\"Documentation\",\"parent\":\"aTD520000008ONsGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONuGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/learn/documentation\",\"description\":\"Organizedlinkstoofficialdocumentationpages\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingInformation\",\"title\":\"TrainingInformation\",\"parent\":\"aTD520000008ONsGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONvGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/training-information.html\",\"description\":\"Trainingofferingsandquicklinks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Solutions\",\"title\":\"Solutions\",\"parent\":\"aTD520000008ONsGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONwGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/solutions.html\",\"description\":\"SolutionsandtoolkitsforcustomersandpartnersforimplementingintheirWorkdaytenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"StrategyRoadmaps\",\"title\":\"StrategyRoadmaps\",\"parent\":\"aTD520000008ONsGAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008ONxGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/strategy-roadmaps.html\",\"description\":\"Productspecificroadmaps\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"SharedDemonstrationTenants\",\"title\":\"SharedDemonstrationTenants\",\"parent\":\"aTD520000008ONsGAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008ONyGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/shared-demonstration-tenants.html\",\"description\":\"Overviewandaccesstoshareddemonstrationtenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesBasecamp\",\"title\":\"ServicesBasecamp\",\"parent\":\"aTD520000008ONsGAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008ONzGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/services-basecamp.html\",\"description\":\"Servicesandpartnerspecificresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"ProductHubMenu\",\"title\":\"Products\",\"parent\":null,\"order\":20,\"level\":\"1\",\"id\":\"aTD520000008ONfGAM\",\"icon\":null,\"href\":null,\"description\":\"Producthubsorganizecontentanditeractionopportunitiesbyproduct\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"HumanCapitalManagementhub\",\"title\":\"HumanCapitalManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONgGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/human-capital-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"FinancialManagementhub\",\"title\":\"FinancialManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONhGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/financial-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkdayPayrollhub\",\"title\":\"WorkdayPayroll\",\"parent\":\"aTD520000008ONfGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONiGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/payroll.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Platform&ProductExtensions\",\"title\":\"Platform&ProductExtensions\",\"parent\":\"aTD520000008ONfGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONjGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/platform-and-product-extensions.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"EmergingProductshub\",\"title\":\"EmergingProducts\",\"parent\":\"aTD520000008ONfGAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008ONkGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/emerging-products\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkforceManagementhub\",\"title\":\"WorkforceManagement\",\"parent\":\"aTD520000008ONfGAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008ONlGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/workforce-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Viewallproducthubs\",\"title\":\"AllProducts\",\"parent\":\"aTD520000008ONfGAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008ONmGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products.html\",\"description\":\"Linkstoallavailableproducthubs\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Collaboratemenu\",\"title\":\"Collaborate\",\"parent\":null,\"order\":30,\"level\":\"1\",\"id\":\"aTD520000008OO8GAM\",\"icon\":null,\"href\":null,\"description\":\"Interactiveusergeneratedcontentopportunities\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Forums\",\"title\":\"Discuss\",\"parent\":\"aTD520000008OO8GAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OO9GAM\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Discuss/ct-p/Category_Discuss\",\"description\":\"Landingpageforforumsavailabletouser\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Brainstorms\",\"title\":\"Innovate\",\"parent\":\"aTD520000008OO8GAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OOAGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Innovate/ct-p/Category_Innovate\",\"description\":\"LandingpageforviewingandcreatingbrainstormsforimprovingWorkday\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Events\",\"title\":\"Connect\",\"parent\":\"aTD520000008OO8GAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OOBGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Connect/ct-p/Category_Connect\",\"description\":\"Upcomingeventsausermayattend\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"UserGroups\",\"title\":\"Partners\",\"parent\":\"aTD520000008OO8GAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OOCGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Partners/ct-p/Category_Partners\",\"description\":\"Organizepartner-specificresourcesandparticipationopportunities\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"DesignPartnerOpportunities\",\"title\":\"Discover\",\"parent\":\"aTD520000008OO8GAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008OODGA2\",\"icon\":null,\"href\":\"https://stage-kr.community-workday.com/t5/Discover/ct-p/Category_Discover\",\"description\":\"Membernewsandupdatesandcollaborateresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"FeatureReleasemenu\",\"title\":\"FeatureRelease\",\"parent\":null,\"order\":40,\"level\":\"1\",\"id\":\"aTD520000008ONnGAM\",\"icon\":null,\"href\":null,\"description\":\"NavtositestohelpuserswithWorkdayFeatureReleases\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"FeatureReleaseGuidebook\",\"title\":\"FeatureReleaseGuidebook\",\"parent\":\"aTD520000008ONnGAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008ONoGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/feature-release-guidebook.html\",\"description\":\"Frameworkforcustomerstouseforourreleasecycle\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ScheduledMaintenance\",\"title\":\"ScheduledMaintenance\",\"parent\":\"aTD520000008ONnGAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008ONpGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/scheduled-maintenance.html\",\"description\":\"PlannedMaintenancewindows\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseCenter\",\"title\":\"ReleaseCenter\",\"parent\":\"aTD520000008ONnGAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008ONqGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/release-center.html\",\"description\":\"TheReleaseCenterorganizesreleasedetailsforthemostrecentfeaturerelease.TheReleasePrepCenterreplacesitforthe6weeksapproachinganewrelease,andfeaturesthenextrelease.\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseNotes\",\"title\":\"ReleaseNotes\",\"parent\":\"aTD520000008ONnGAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008ONrGAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/release-center/release-notes.html\",\"description\":\"Comprehensivereleasenotes\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"GetHelpmenu\",\"title\":\"GetHelp\",\"parent\":null,\"order\":50,\"level\":\"1\",\"id\":\"aTD520000008OOEGA2\",\"icon\":null,\"href\":null,\"description\":\"Self-serviceandsolutionfindingresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"DatacenterStatus\",\"title\":\"DatacenterStatus\",\"parent\":\"aTD520000008OOEGA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OOFGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/datacenter-status\",\"description\":\"SummaryonthecurrenthealthstatusofWorkdaydatacenters\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TroubleshootingResources\",\"title\":\"TroubleshootingResources\",\"parent\":\"aTD520000008OOEGA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OOGGA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/troubleshooting.html\",\"description\":\"Organizedlistofresourcesandlinkstohelptroubleshooting\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"CustomerAlerts\",\"title\":\"CustomerAlerts\",\"parent\":\"aTD520000008OOEGA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OOHGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/customer-alerts\",\"description\":\"Supportalertstocustomersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesAlerts\",\"title\":\"ServicesAlerts\",\"parent\":\"aTD520000008OOEGA2\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OOIGA2\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/get-help/services-alerts\",\"description\":\"Supportalertstostaffandpartnersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingCoordinatorHub\",\"title\":\"TrainingCoordinatorHub\",\"parent\":\"aTD520000008OOEGA2\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008OOJGA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/training-coordinators.html\",\"description\":\"TrainingandresourcesforusersintheTrainingCoordinatorWorkdaySupportRole\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"NSCHub\",\"title\":\"NSCHub\",\"parent\":\"aTD520000008OOEGA2\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008OOKGA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/support/nscs.html\",\"description\":\"TrainingandresourcesforusersintheNamedSupportContactWorkdaySupportrole\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Managemenu\",\"title\":\"Manage\",\"parent\":null,\"order\":60,\"level\":\"1\",\"id\":\"aTD520000008OO0GAM\",\"icon\":null,\"href\":null,\"description\":\"SupportandWorkdayRoleAdministrativeFunctions\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Cases\",\"title\":\"Cases\",\"parent\":\"aTD520000008OO0GAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTD520000008OO1GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_CommunityCases\",\"description\":\"Customercaseportal\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Users\",\"title\":\"Users\",\"parent\":\"aTD520000008OO0GAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTD520000008OO2GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/CommunityAccess/s/user-management\",\"description\":\"OrgAdministrationandCustomerCenterContactmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":null,\"title\":\"ContactsManagement\",\"parent\":\"aTD520000008OO0GAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTD520000008OO3GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_NSCAdministration\",\"description\":\"Supportcontactmangement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Training\",\"title\":\"Training\",\"parent\":\"aTD520000008OO0GAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTD520000008OO4GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/LMS_TrainingUnits\",\"description\":\"Trainingadministrationtasks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Tenants\",\"title\":\"Tenants\",\"parent\":\"aTD520000008OO0GAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008OO5GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_CommunityTenants\",\"description\":\"Tenantrequestandmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"MyOrganization\",\"title\":\"MyOrganization\",\"parent\":\"aTD520000008OO0GAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTD520000008OO6GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/CommunityAccess/s/\",\"description\":\"Organizationprofilemanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"Reports\",\"parent\":\"aTD520000008OO0GAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTD520000008OOYGA2\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/00O/o\",\"description\":\"Supportorientedreports\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"ContentLibrary\",\"parent\":\"aTD520000008OO0GAM\",\"order\":80,\"level\":\"2\",\"id\":\"aTD520000008OO7GAM\",\"icon\":null,\"href\":\"https://workday--uat.sandbox.my.site.com/workdaycustomercenter/apex/CC_ListContent\",\"description\":\"Supportorientedreportsincludingauditandcompliance\",\"children\":[]}]}]}}";
    Gson gson = new Gson();
    JsonObject source = gson.fromJson(sourceString, JsonObject.class);
    JsonObject target = gson.fromJson(targetString, JsonObject.class);
    assertEquals(-1, gson.toJson(source).indexOf("beta-content"));
    CommonUtils.updateSourceFromTarget(source, target, "id", "beta");
    assertEquals(353, gson.toJson(source).indexOf("beta-content"));

    JsonObject source1 = gson.fromJson(sourceString, JsonObject.class);
    JsonObject target1 = gson.fromJson(targetString, JsonObject.class);
    CommonUtils.updateSourceFromTarget(source1, target1, "id", "dev");
    assertEquals(353, gson.toJson(source1).indexOf("dev-content"));

    JsonObject source2 = gson.fromJson(sourceString, JsonObject.class);
    JsonObject target2 = gson.fromJson(targetString, JsonObject.class);
    CommonUtils.updateSourceFromTarget(source2, target2, "id", "prod");
    assertEquals(-1, gson.toJson(source2).indexOf("community-content"));

    String src =
        "{\"language\":\"en\",\"contactNumber\":\"100002293327\",\"contactId\":\"003DO0000069IEGYA2\",\"utility\":{\"menu\":[{\"type\":\"Utility\",\"tooltip\":\"WorkdayLearningCenter\",\"title\":\"WorkdayLearningCenter\",\"parent\":null,\"order\":150,\"level\":\"1\",\"id\":\"aTI4X0000008OJZWA2\",\"icon\":\"handleafIcon\",\"href\":\"https://wd5.myworkday.com/workday\",\"description\":\"EngagewithproducttrainingfromtheWorkdayLearningCenter.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"AdministratorGuide\",\"title\":\"AdministratorGuide\",\"parent\":null,\"order\":170,\"level\":\"1\",\"id\":\"aTI4X0000008OJbWAM\",\"icon\":\"chartBarScatterIcon\",\"href\":\"https://dev1.doc.workday.com\",\"description\":\"Findstep-by-stepinformationtohelpyouplanfor,configure,anduseWorkdayfeatures.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"eBooks\",\"title\":\"eBooks\",\"parent\":null,\"order\":180,\"level\":\"1\",\"id\":\"aTI4X0000008OJcWAM\",\"icon\":\"powerOfOneIcon\",\"href\":\"https://bc.vitalsource.com/tenants/workday_saml_test/bookshelf\",\"description\":\"Viewtheelectroniccoursemanualsforyourproducttraining,hostedonVitalSourceÂ®.\",\"children\":[]}]},\"profile\":{\"menu\":[{\"type\":\"Profile\",\"tooltip\":\"Bookmarks\",\"title\":\"Bookmarks\",\"parent\":null,\"order\":90,\"level\":\"1\",\"id\":\"aTI4X0000008OJTWA2\",\"icon\":\"mediaMylearningIcon\",\"href\":\"https://perf.community-workday.com/bookmarks\",\"description\":\"Whereauseraccessescontenttheyhavebookmarked\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"CollaborateUpdates\",\"title\":\"CollaborateUpdates\",\"parent\":null,\"order\":100,\"level\":\"1\",\"id\":\"aTI4X0000008OJXWA2\",\"icon\":\"trophyIcon\",\"href\":\"https://sandbox-kr.community-workday.com/t5/notificationfeed/page\",\"description\":\"Whereauserseestherecentactivityfortheircommunityparticipation\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"Settings\",\"title\":\"Settings\",\"parent\":null,\"order\":120,\"level\":\"1\",\"id\":\"aTI4X0000008OJUWA2\",\"icon\":\"gearIcon\",\"href\":\"https://qa-resourcecenter.workday.com/en-us/wrc/settings.html\",\"description\":\"WhereausermanagestheirMFA,privacyandcaseportalsettings\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"Subscriptions\",\"title\":\"Subscriptions\",\"parent\":null,\"order\":130,\"level\":\"1\",\"id\":\"aTI4X0000008OJVWA2\",\"icon\":\"checkCircleIcon\",\"href\":\"https://perf.community-workday.com/message-subscribe\",\"description\":\"Whereausermanagessubscriptionstocontentareas\",\"children\":[]}]},\"primary\":{\"menu\":[{\"type\":\"Primary\",\"tooltip\":\"Learnmenu\",\"title\":\"Learn\",\"parent\":null,\"order\":10,\"level\":\"1\",\"id\":\"aTI4X0000008OIyWAM\",\"icon\":null,\"href\":null,\"description\":\"Gettingstartedandlearning-focusedresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"GetStarted\",\"title\":\"GetStarted\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OIzWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/get-started\",\"description\":\"Organizedgettingstartedinfoforcustomers\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Resources\",\"title\":\"Resources\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJ0WAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/resources\",\"description\":\"Organizedlinkstoofficialdocumentationpages\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingInformation\",\"title\":\"TrainingInformation\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJ1WAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/training\",\"description\":\"Trainingofferingsandquicklinks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Solutions\",\"title\":\"Solutions\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OJ2WAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/solutions\",\"description\":\"SolutionsandtoolkitsforcustomersandpartnersforimplementingintheirWorkdaytenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"StrategyRoadmaps\",\"title\":\"StrategyRoadmaps\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTI4X0000008OJ3WAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/strategy-roadmaps\",\"description\":\"Productspecificroadmaps\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"SharedDemonstrationTenants\",\"title\":\"SharedDemonstrationTenants\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OJ4WAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/learn/demonstration-tenants\",\"description\":\"Overviewandaccesstoshareddemonstrationtenants\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"ProductHubMenu\",\"title\":\"Products\",\"parent\":null,\"order\":20,\"level\":\"1\",\"id\":\"aTI4X0000008OIlWAM\",\"icon\":null,\"href\":null,\"description\":\"Producthubsorganizecontentanditeractionopportunitiesbyproduct\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"HumanCapitalManagementhub\",\"title\":\"HumanCapitalManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OImWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/human-capital-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"FinancialManagementhub\",\"title\":\"FinancialManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OInWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/financial-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkdayPayrollhub\",\"title\":\"WorkdayPayroll\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OIoWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/workday-payroll\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Platform&ProductExtensions\",\"title\":\"Platform&ProductExtensions\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OIpWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/platform-and-product-extensions\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkforceManagementhub\",\"title\":\"WorkforceManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OIrWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/workforce-management\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Viewallproducthubs\",\"title\":\"AllProducts\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTI4X0000008OIsWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/products/all-products\",\"description\":\"Linkstoallavailableproducthubs\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Collaboratemenu\",\"title\":\"Collaborate\",\"parent\":null,\"order\":30,\"level\":\"1\",\"id\":\"aTI4X0000008OJFWA2\",\"icon\":null,\"href\":null,\"description\":\"Interactiveusergeneratedcontentopportunities\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Forums\",\"title\":\"Discuss\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OJGWA2\",\"icon\":null,\"href\":\"https://sandbox-kr.community-workday.com/t5/Discuss/ct-p/Category_Discuss\",\"description\":\"Landingpageforforumsavailabletouser\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Brainstorms\",\"title\":\"Innovate\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJHWA2\",\"icon\":null,\"href\":\"https://sandbox-kr.community-workday.com/t5/Innovate/ct-p/Category_Innovate\",\"description\":\"LandingpageforviewingandcreatingbrainstormsforimprovingWorkday\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Events\",\"title\":\"Connect\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJIWA2\",\"icon\":null,\"href\":\"https://sandbox-kr.community-workday.com/t5/Connect/ct-p/Category_Connect\",\"description\":\"Upcomingeventsausermayattend\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"DesignPartnerOpportunities\",\"title\":\"Discover\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":50,\"level\":\"2\",\"id\":\"aTI4X0000008OJKWA2\",\"icon\":null,\"href\":\"https://sandbox-kr.community-workday.com/t5/Discover/ct-p/Category_Discover\",\"description\":\"Membernewsandupdatesandcollaborateresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"FeatureReleasemenu\",\"title\":\"FeatureRelease\",\"parent\":null,\"order\":40,\"level\":\"1\",\"id\":\"aTI4X0000008OItWAM\",\"icon\":null,\"href\":null,\"description\":\"NavtositestohelpuserswithWorkdayFeatureReleases\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"FeatureReleaseGuidebook\",\"title\":\"FeatureReleaseGuidebook\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OIuWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/feature-release/guidebook\",\"description\":\"Frameworkforcustomerstouseforourreleasecycle\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ScheduledMaintenance\",\"title\":\"ScheduledMaintenance\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OIvWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/feature-release/maintenance\",\"description\":\"PlannedMaintenancewindows\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseCenter\",\"title\":\"ReleaseCenter\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OIwWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/feature-release/release-center\",\"description\":\"TheReleaseCenterorganizesreleasedetailsforthemostrecentfeaturerelease.TheReleasePrepCenterreplacesitforthe6weeksapproachinganewrelease,andfeaturesthenextrelease.\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseNotes\",\"title\":\"ReleaseNotes\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OIxWAM\",\"icon\":null,\"href\":\"https://perf.community-workday.com/feature-release/release-notes\",\"description\":\"Comprehensivereleasenotes\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"GetHelpmenu\",\"title\":\"GetHelp\",\"parent\":null,\"order\":50,\"level\":\"1\",\"id\":\"aTI4X0000008OJLWA2\",\"icon\":null,\"href\":null,\"description\":\"Self-serviceandsolutionfindingresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"DatacenterStatus\",\"title\":\"DatacenterStatus\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OJMWA2\",\"icon\":null,\"href\":\"https://perf.community-workday.com/get-help/datacenter-status\",\"description\":\"SummaryonthecurrenthealthstatusofWorkdaydatacenters\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TroubleshootingResources\",\"title\":\"TroubleshootingResources\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJNWA2\",\"icon\":null,\"href\":\"https://perf.community-workday.com/get-help/troubleshooting-resources\",\"description\":\"Organizedlistofresourcesandlinkstohelptroubleshooting\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"CustomerAlerts\",\"title\":\"CustomerAlerts\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJOWA2\",\"icon\":null,\"href\":\"https://perf.community-workday.com/get-help/customer-alerts\",\"description\":\"Supportalertstocustomersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]}]}]},\"notification\":null,\"contactInformation\":{\"roles\":\"\",\"propertyAccess\":\"Community;LEE;CustomerCenter\",\"nscSupporting\":\"Workday;AdaptivePlanning;Peakon\",\"lastName\":\"user001\",\"firstName\":\"beta001\",\"customerOf\":\"Workday;AdaptivePlanning;Peakon\"},\"lastAccessedDate\":\"06/14/202315:07:21\"}";

    String tgt =
        "{\"language\":\"en\",\"contactNumber\":null,\"contactId\":null,\"utility\":{\"menu\":[{\"type\":\"Utility\",\"tooltip\":\"WorkdayLearningCenter\",\"title\":\"WorkdayLearningCenter\",\"parent\":null,\"order\":150,\"level\":\"1\",\"id\":\"aTI4X0000008OJZWA2\",\"icon\":\"handleafIcon\",\"href\":\"https://wd5.myworkday.com/workday\",\"description\":\"EngagewithproducttrainingfromtheWorkdayLearningCenter.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"WorkdaySuccessPlans\",\"title\":\"WorkdaySuccessPlans\",\"parent\":null,\"order\":160,\"level\":\"1\",\"id\":\"aTI4X0000008OJaWAM\",\"icon\":\"personStarIcon\",\"href\":\"https://gateway.on24.com/wcc/eh/2345846/workday-success-plans\",\"description\":\"Accessexclusiveresources,tools,andexpertisetohelpyoureachyourbusinessgoals.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"AdministratorGuide\",\"title\":\"AdministratorGuide\",\"parent\":null,\"order\":170,\"level\":\"1\",\"id\":\"aTI4X0000008OJbWAM\",\"icon\":\"chartBarScatterIcon\",\"href\":\"https://doc.workday.com\",\"description\":\"Findstep-by-stepinformationtohelpyouplanfor,configure,anduseWorkdayfeatures.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"eBooks\",\"title\":\"eBooks\",\"parent\":null,\"order\":180,\"level\":\"1\",\"id\":\"aTI4X0000008OJcWAM\",\"icon\":\"powerOfOneIcon\",\"href\":\"https://bc.vitalsource.com/tenants/workday_saml/bookshelf\",\"description\":\"Viewtheelectroniccoursemanualsforyourproducttraining,hostedonVitalSourceÂ®.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"WorkdayPartnerCenter(Channel)\",\"title\":\"WorkdayPartnerCenter~Channel\",\"parent\":null,\"order\":190,\"level\":\"1\",\"id\":\"aTI4X0000008OJdWAM\",\"icon\":\"handshakeIcon\",\"href\":\"https://workdayinc.force.com/channelpartnercenter\",\"description\":\"Registerleadsandrunreportsonyouropportunities.\",\"children\":[]},{\"type\":\"Utility\",\"tooltip\":\"WorkdayPartnerCenter(Services&Software)\",\"title\":\"WorkdayPartnerCenter~ServicesandSoftware\",\"parent\":null,\"order\":200,\"level\":\"1\",\"id\":\"aTI4X0000008OJeWAM\",\"icon\":\"handshakePlusIcon\",\"href\":\"https://workdayinc.force.com/partnercenter\",\"description\":\"Managedeployments,contacts,cases,andreportsinahubmadeforServicespartners.\",\"children\":[]}]},\"profile\":{\"menu\":[{\"type\":\"Profile\",\"tooltip\":\"Bookmarks\",\"title\":\"Bookmarks\",\"parent\":null,\"order\":90,\"level\":\"1\",\"id\":\"aTI4X0000008OJTWA2\",\"icon\":\"mediaMylearningIcon\",\"href\":\"https://community.workday.com/bookmarks\",\"description\":\"Whereauseraccessescontenttheyhavebookmarked\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"CollaborateUpdates\",\"title\":\"CollaborateUpdates\",\"parent\":null,\"order\":100,\"level\":\"1\",\"id\":\"aTI4X0000008OJXWA2\",\"icon\":\"trophyIcon\",\"href\":\"https://collaborate.workday.com/t5/notificationfeed/page\",\"description\":\"Whereauserseestherecentactivityfortheircommunityparticipation\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"ContentAdmin\",\"title\":\"ContentAdmin\",\"parent\":null,\"order\":110,\"level\":\"1\",\"id\":\"aTI4X0000008OJYWA2\",\"icon\":\"timelineMilestoneIcon\",\"href\":\"https://community.workday.com/content-administration\",\"description\":\"Whereworkmatesgotoauthorcommunityarticles\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"Settings\",\"title\":\"Settings\",\"parent\":null,\"order\":120,\"level\":\"1\",\"id\":\"aTI4X0000008OJUWA2\",\"icon\":\"gearIcon\",\"href\":\"https://resourcecenter.workday.com/en-us/wrc/settings.html\",\"description\":\"WhereausermanagestheirMFA,privacyandcaseportalsettings\",\"children\":[]},{\"type\":\"Profile\",\"tooltip\":\"Subscriptions\",\"title\":\"Subscriptions\",\"parent\":null,\"order\":130,\"level\":\"1\",\"id\":\"aTI4X0000008OJVWA2\",\"icon\":\"checkCircleIcon\",\"href\":\"https://community.workday.com/message-subscribe\",\"description\":\"Whereausermanagessubscriptionstocontentareas\",\"children\":[]}]},\"primary\":{\"menu\":[{\"type\":\"Primary\",\"tooltip\":\"Learnmenu\",\"title\":\"Learn\",\"parent\":null,\"order\":10,\"level\":\"1\",\"id\":\"aTI4X0000008OIyWAM\",\"icon\":null,\"href\":null,\"description\":\"Gettingstartedandlearning-focusedresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"GetStarted\",\"title\":\"GetStarted\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OIzWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/get-started.html\",\"description\":\"Organizedgettingstartedinfoforcustomers\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Resources\",\"title\":\"Resources\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJ0WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/resources.html\",\"description\":\"Organizedlinkstoofficialdocumentationpages\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingInformation\",\"title\":\"TrainingInformation\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJ1WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/training-information.html\",\"description\":\"Trainingofferingsandquicklinks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Solutions\",\"title\":\"Solutions\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OJ2WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/solutions.html\",\"description\":\"SolutionsandtoolkitsforcustomersandpartnersforimplementingintheirWorkdaytenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"StrategyRoadmaps\",\"title\":\"StrategyRoadmaps\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTI4X0000008OJ3WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/strategy-roadmaps.html\",\"description\":\"Productspecificroadmaps\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"SharedDemonstrationTenants\",\"title\":\"SharedDemonstrationTenants\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OJ4WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/shared-demonstration-tenants.html\",\"description\":\"Overviewandaccesstoshareddemonstrationtenants\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesBasecamp\",\"title\":\"ServicesBasecamp\",\"parent\":\"aTI4X0000008OIyWAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTI4X0000008OJ5WAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/learn/services-basecamp.html\",\"description\":\"Servicesandpartnerspecificresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"ProductHubMenu\",\"title\":\"Products\",\"parent\":null,\"order\":20,\"level\":\"1\",\"id\":\"aTI4X0000008OIlWAM\",\"icon\":null,\"href\":null,\"description\":\"Producthubsorganizecontentanditeractionopportunitiesbyproduct\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"HumanCapitalManagementhub\",\"title\":\"HumanCapitalManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OImWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/human-capital-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"FinancialManagementhub\",\"title\":\"FinancialManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OInWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/financial-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkdayPayrollhub\",\"title\":\"WorkdayPayroll\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OIoWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/payroll.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Platform&ProductExtensions\",\"title\":\"Platform&ProductExtensions\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OIpWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/platform-and-product-extensions.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"EmergingProductshub\",\"title\":\"EmergingProducts\",\"parent\":\"aTD520000008ONfGAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTD520000008ONkGAM\",\"icon\":null,\"href\":\"https://preprod.community-workday.com/products/emerging-products\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"WorkforceManagementhub\",\"title\":\"WorkforceManagement\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OIrWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products/workforce-management.html\",\"description\":\"Specificproducthubnavigationlink\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Viewallproducthubs\",\"title\":\"AllProducts\",\"parent\":\"aTI4X0000008OIlWAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTI4X0000008OIsWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/products.html\",\"description\":\"Linkstoallavailableproducthubs\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Collaboratemenu\",\"title\":\"Collaborate\",\"parent\":null,\"order\":30,\"level\":\"1\",\"id\":\"aTI4X0000008OJFWA2\",\"icon\":null,\"href\":null,\"description\":\"Interactiveusergeneratedcontentopportunities\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Forums\",\"title\":\"Discuss\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OJGWA2\",\"icon\":null,\"href\":\"https://collaborate.workday.com/t5/Discuss/ct-p/Category_Discuss\",\"description\":\"Landingpageforforumsavailabletouser\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Brainstorms\",\"title\":\"Innovate\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJHWA2\",\"icon\":null,\"href\":\"https://collaborate.workday.com/t5/Innovate/ct-p/Category_Innovate\",\"description\":\"LandingpageforviewingandcreatingbrainstormsforimprovingWorkday\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Events\",\"title\":\"Connect\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJIWA2\",\"icon\":null,\"href\":\"https://collaborate.workday.com/t5/Connect/ct-p/Category_Connect\",\"description\":\"Upcomingeventsausermayattend\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"UserGroups\",\"title\":\"Partners\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OJJWA2\",\"icon\":null,\"href\":\"https://collaborate.workday.com/t5/Partners/ct-p/Category_Partners\",\"description\":\"Organizepartner-specificresourcesandparticipationopportunities\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"DesignPartnerOpportunities\",\"title\":\"Discover\",\"parent\":\"aTI4X0000008OJFWA2\",\"order\":50,\"level\":\"2\",\"id\":\"aTI4X0000008OJKWA2\",\"icon\":null,\"href\":\"https://collaborate.workday.com/t5/Discover/ct-p/Category_Discover\",\"description\":\"Membernewsandupdatesandcollaborateresources\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"FeatureReleasemenu\",\"title\":\"FeatureRelease\",\"parent\":null,\"order\":40,\"level\":\"1\",\"id\":\"aTI4X0000008OItWAM\",\"icon\":null,\"href\":null,\"description\":\"NavtositestohelpuserswithWorkdayFeatureReleases\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"FeatureReleaseGuidebook\",\"title\":\"FeatureReleaseGuidebook\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OIuWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/feature-release-guidebook.html\",\"description\":\"Frameworkforcustomerstouseforourreleasecycle\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ScheduledMaintenance\",\"title\":\"ScheduledMaintenance\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OIvWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/scheduled-maintenance.html\",\"description\":\"PlannedMaintenancewindows\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseCenter\",\"title\":\"ReleaseCenter\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OIwWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/release-center.html\",\"description\":\"TheReleaseCenterorganizesreleasedetailsforthemostrecentfeaturerelease.TheReleasePrepCenterreplacesitforthe6weeksapproachinganewrelease,andfeaturesthenextrelease.\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ReleaseNotes\",\"title\":\"ReleaseNotes\",\"parent\":\"aTI4X0000008OItWAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OIxWAM\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/feature-release/release-center/release-notes.html\",\"description\":\"Comprehensivereleasenotes\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"GetHelpmenu\",\"title\":\"GetHelp\",\"parent\":null,\"order\":50,\"level\":\"1\",\"id\":\"aTI4X0000008OJLWA2\",\"icon\":null,\"href\":null,\"description\":\"Self-serviceandsolutionfindingresources\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"DatacenterStatus\",\"title\":\"DatacenterStatus\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OJMWA2\",\"icon\":null,\"href\":\"https://community.workday.com/get-help/datacenter-status\",\"description\":\"SummaryonthecurrenthealthstatusofWorkdaydatacenters\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TroubleshootingResources\",\"title\":\"TroubleshootingResources\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJNWA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/troubleshooting.html\",\"description\":\"Organizedlistofresourcesandlinkstohelptroubleshooting\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"CustomerAlerts\",\"title\":\"CustomerAlerts\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJOWA2\",\"icon\":null,\"href\":\"https://community.workday.com/get-help/customer-alerts\",\"description\":\"Supportalertstocustomersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"ServicesAlerts\",\"title\":\"ServicesAlerts\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OJPWA2\",\"icon\":null,\"href\":\"https://community.workday.com/get-help/services-alerts\",\"description\":\"Supportalertstostaffandpartnersrelatedtooperations,defectsandotherproduct-specificinformation\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"TrainingCoordinatorHub\",\"title\":\"TrainingCoordinatorHub\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OJQWA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/training-coordinators.html\",\"description\":\"TrainingandresourcesforusersintheTrainingCoordinatorWorkdaySupportRole\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"NSCHub\",\"title\":\"NSCHub\",\"parent\":\"aTI4X0000008OJLWA2\",\"order\":70,\"level\":\"2\",\"id\":\"aTI4X0000008OJRWA2\",\"icon\":null,\"href\":\"https://beta-content.workday.com/en-us/get-help/support/nscs.html\",\"description\":\"TrainingandresourcesforusersintheNamedSupportContactWorkdaySupportrole\",\"children\":[]}]},{\"type\":\"Primary\",\"tooltip\":\"Managemenu\",\"title\":\"Manage\",\"parent\":null,\"order\":60,\"level\":\"1\",\"id\":\"aTI4X0000008OJ6WAM\",\"icon\":null,\"href\":null,\"description\":\"SupportandWorkdayRoleAdministrativeFunctions\",\"children\":[{\"type\":\"Primary\",\"tooltip\":\"Cases\",\"title\":\"Cases\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":10,\"level\":\"2\",\"id\":\"aTI4X0000008OJ7WAM\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/apex/CC_CommunityCases\",\"description\":\"Customercaseportal\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Users\",\"title\":\"Users\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":20,\"level\":\"2\",\"id\":\"aTI4X0000008OJ8WAM\",\"icon\":null,\"href\":\"https://workdayinc.force.com/CommunityAccess/s/user-management\",\"description\":\"OrgAdministrationandCustomerCenterContactmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":null,\"title\":\"ContactsManagement\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":30,\"level\":\"2\",\"id\":\"aTI4X0000008OJ9WAM\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/apex/CC_NSCAdministration\",\"description\":\"Supportcontactmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Training\",\"title\":\"Training\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":40,\"level\":\"2\",\"id\":\"aTI4X0000008OJAWA2\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/apex/LMS_TrainingUnits\",\"description\":\"Trainingadministrationtasks\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Tenants\",\"title\":\"Tenants\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":50,\"level\":\"2\",\"id\":\"aTI4X0000008OJBWA2\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/apex/CC_CommunityTenants\",\"description\":\"Tenantrequestandmanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"MyOrganization\",\"title\":\"MyOrganization\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":60,\"level\":\"2\",\"id\":\"aTI4X0000008OJCWA2\",\"icon\":null,\"href\":\"https://workdayinc.force.com/CommunityAccess/s/\",\"description\":\"Organizationprofilemanagement\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"Reports\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":70,\"level\":\"2\",\"id\":\"aTI4X0000008OJEWA2\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/00O/o\",\"description\":\"Supportorientedreports\",\"children\":[]},{\"type\":\"Primary\",\"tooltip\":\"Reports\",\"title\":\"ContentLibrary\",\"parent\":\"aTI4X0000008OJ6WAM\",\"order\":80,\"level\":\"2\",\"id\":\"aTI4X0000008OJDWA2\",\"icon\":null,\"href\":\"https://workdayinc.force.com/workdaycustomercenter/apex/CC_ListContent\",\"description\":\"Supportorientedreportsincludingauditandcompliance\",\"children\":[]}]}]},\"notification\":{\"redirectUrl\":\"https://workdayinc.force.com/workdaycustomercenter/apex/CC_ProactiveNotifications\",\"notify\":null},\"contactInformation\":null,\"lastAccessedDate\":\"12/12/202217:03:44\"}";

    JsonObject src1 = gson.fromJson(src, JsonObject.class);
    JsonObject tgt1 = gson.fromJson(tgt, JsonObject.class);
    CommonUtils.updateSourceFromTarget(src1, tgt1, "id", "dev");
    assertEquals(2516, gson.toJson(src1).indexOf("dev-content"));
  }
}
